- final_q_value = academic_record.final_q_value
- aprobado = academic_record.aprobado?
- absoluta = academic_record.subject.absoluta?
- diferido = academic_record.diferido?
- reparacion = academic_record.reparacion?

- if absoluta
  %td
    - options = {"aprobado"=>1, "aplazado"=>2}
    - options.map do |v,k|
      = radio_button_tag "[academic_record]status", k, status.eql?(v), disabled: disable_row, required: !disable_row, class: 'absoluta', id_obj: id, type_q: :final
      .badge.badge-success= v.upcase

- else
  - no_post_q = !(diferido or reparacion)
  - disabled_final_q = (disable_row or !no_post_q)

  %td= check_box_tag "[academic_record]status", true, academic_record.pi?, {class: 'pi', id_obj: id}
  %td= number_field_tag "[qualification]final", {}, {value: final_q_value, placeholder: 'Final', class: 'form-control form-control-sm qualifiable final', disabled: disabled_final_q, step: 1, in: 0...21, id_obj: id, type_q: :final}

  - checkbox_disabled = (disable_row or aprobado or final_q_value.nil?)
  %td= check_box_tag "[academic_record][#{id}]nd", :diferido, diferido, {disabled: (checkbox_disabled or reparacion), class: 'checkPost', id_obj: id}

  %td= check_box_tag "[academic_record][#{id}]nr", :reparacion, reparacion, {disabled: (checkbox_disabled or diferido), class: 'checkPost', id_obj: id}

  %td= number_field_tag "[qualification]post", {}, {value: academic_record.post_q_value, placeholder: 'Post', class: 'form-control form-control-sm qualifiable', disabled: no_post_q, step: 1, in: 0...21, id_obj: id, type_q: academic_record.post_type_q}
