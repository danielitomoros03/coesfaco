.btn.btn-sm.btn-success.ml-2
  Desplegar todos
  = link_to 'javascript:void(0)', onclick: "$('.arbol').toggleClass('d-none'); $('.fa-chevron-right').toggleClass('fa-rotate-90');" do
    %i.fa.fa-chevron-right

.mt-3.border{style: 'height:540px;overflow-x:scroll'}
  %table.table.table-bordered.table-sm
    %thead
      %tr.text-center
        - orders.each do |k,v|
          - if k.nil?
            - title = "Sin Orden"
            - bg = 'bg-danger'
          - elsif k.eql? 0
            - title = "Optativas"
            - bg = 'bg-info'
          - else
            - title = "#{Subject.ordinal_to_cardinal(k,'Sem')}"
            - bg = 'bg-success'
          %th{class: bg}
            = title
            %span.badge.bg-dark{title: 'Total de Asignaturas'}= "#{v}"


    %tbody
      %tr
        - orders.each do |k,v|
          %td.p-1
            %div{style: 'max-height:480px;overflow-y:scroll'}
              - if k.nil?
                - table = 'table-danger'
              - elsif k.eql? 0
                - table = 'table-info'
              - else
                - table = 'table-success'


              %table.table.table-bordered.table-sm.table-hover.table
                %thead
                %tbody
                  - subjects.where(ordinal: k).order(:code).each do |asig|
                    %tr{class: table}
                      = render partial: '/subject_links/tree_by_school', locals: {subject: asig}


:javascript

  $(document).ready(function() {
    $('.mouseover').hover( function(e){
      let clase = $(this).attr( "mouseover" );

      $('.'+clase).toggleClass('table-warning');
    });
  });



